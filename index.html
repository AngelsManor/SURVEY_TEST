<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TERMS_SURVEY</title>
<link rel="stylesheet" href="index.css">
</head>
<body>

<!-- Mist layers -->
<div class="mist"></div>
<div class="mist"></div>

<!-- Floating shapes container -->
<div id="floatersContainer"></div>

<!-- Terms Modal -->
<div id="termsModal" class="fade-in">
  <div id="termsContent" class="glow">
    <h2 class="glow-text">TERMS_SURVEY</h2>
    <p class="glow-text">
      THE CONNECTION DETAILS WILL NOT BE RELAYED TO YOUR VESSEL.  
      PROCEED WITH EXTREME CAUTION. ALL TRANSMISSIONS ARE MONITORED.  
      YOUR VESSEL MAY BE SUBJECT TO HARM, HEX, INSANITY, OR MISFORTUNE.  
      DO YOU WISH TO PROCEED?
    </p>
    <button id="acceptBtn">ACCEPT</button>
    <button id="denyBtn">DENY</button>
  </div>
</div>

<!-- Background audio -->
<audio id="bgMusic" loop style="display:none;">
  <source src="CONNECTION.mp3" type="audio/mpeg">
</audio>

<script>
window.addEventListener('DOMContentLoaded', () => {
  const modal = document.getElementById('termsModal');
  const music = document.getElementById('bgMusic');

  // Fade in modal over 5 seconds
  modal.style.opacity = 0;
  modal.style.display = 'flex';
  let opacity = 0;
  const fadeIn = setInterval(() => {
    opacity += 0.004;
    modal.style.opacity = opacity;
    if(opacity >= 1) clearInterval(fadeIn);
  }, 20);

  // Fade in music over 5 seconds, max volume 60%
  music.volume = 0;
  music.play();
  let vol = 0;
  const fadeMusic = setInterval(() => {
    vol += 0.002;
    if(vol >= 0.3) vol = 0.3; // cap at 60%
    music.volume = vol;
    if(vol >= 0.3) clearInterval(fadeMusic);
  }, 20);

  // Modal buttons
  document.getElementById('acceptBtn').onclick = () => { modal.style.display = 'none'; };
  document.getElementById('denyBtn').onclick = () => { alert("ACCESS DENIED."); modal.style.display = 'none'; };

  // Floating shapes
  const container = document.getElementById('floatersContainer');
  const colors = ['#FF0000','#FF7F00','#FFFF00','#00FF00','#0000FF','#4B0082','#8F00FF']; 
  const totalShapes = 14; // fewer shapes

  for (let i = 0; i < totalShapes; i++) {
      const floater = document.createElement('div');
      floater.classList.add('floaters');

      // random size between 20â€“35px
      const size = 20 + Math.random() * 15;
      floater.style.width = size + 'px';
      floater.style.height = size + 'px';
      
      let posX = Math.random() * window.innerWidth;
      let posY = Math.random() * window.innerHeight;
      let speedX = (Math.random() - 0.5) * 0.2; // slower
      let speedY = (Math.random() - 0.5) * 0.2;

      const color = colors[i % colors.length];
      floater.style.background = color;

      // more visible but still background
      floater.style.opacity = 0.30
      floater.style.boxShadow = `0 0 12px ${color}55, 0 0 25px ${color}40`;

      container.appendChild(floater);

      function move() {
          posX += speedX;
          posY += speedY;

          if (posX > window.innerWidth) posX = 0;
          if (posX < 0) posX = window.innerWidth;
          if (posY > window.innerHeight) posY = 0;
          if (posY < 0) posY = window.innerHeight;

          floater.style.left = posX + 'px';
          floater.style.top = posY + 'px';

          requestAnimationFrame(move);
      }
      move();
  }
});
</script>

</body>
</html>
