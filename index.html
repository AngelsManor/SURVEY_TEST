<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TERMS_SURVEY</title>
<link rel="stylesheet" href="index.css">
</head>
<body>

<!-- Mist layers -->
<div class="mist"></div>
<div class="mist"></div>

<!-- Terms Modal -->
<div id="termsModal" class="fade-in">
  <div id="termsContent" class="glow">
    <h2 class="glow-text">TERMS_SURVEY</h2>
    <p class="glow-text">
      THE CONNECTION DETAILS WILL NOT BE RELAYED TO YOUR VESSEL.  
      PROCEED WITH EXTREME CAUTION. ALL TRANSMISSIONS ARE MONITORED.  
      YOUR VESSEL MAY BE SUBJECT TO HARM, HEX, INSANITY, OR MISFORTUNE.  
      DO YOU WISH TO PROCEED?
    </p>
    <button id="acceptBtn">ACCEPT</button>
    <button id="denyBtn">DENY</button>
  </div>
</div>

<!-- Background audio -->
<audio id="bgMusic" loop style="display:none;">
  <source src="CONNECTION.mp3" type="audio/mpeg">
</audio>

<script>
window.addEventListener('DOMContentLoaded', () => {
  const modal = document.getElementById('termsModal');
  const music = document.getElementById('bgMusic');

  // Fade in modal over 5 seconds
  modal.style.opacity = 0;
  modal.style.display = 'flex';
  let opacity = 0;
  const fadeIn = setInterval(() => {
    opacity += 0.004;
    modal.style.opacity = opacity;
    if(opacity >= 1) clearInterval(fadeIn);
  }, 20);

  // Fade in music over 5 seconds, max volume 30%
  music.volume = 0;
  music.play();
  let vol = 0;
  const fadeMusic = setInterval(() => {
    vol += 0.002;
    if(vol >= 0.3) vol = 0.3;
    music.volume = vol;
    if(vol >= 0.3) clearInterval(fadeMusic);
  }, 20);

  // Modal buttons
  document.getElementById('acceptBtn').onclick = () => { modal.style.display = 'none'; };
  
  // Redirect to /declined page
  document.getElementById('denyBtn').onclick = () => {
    window.location.href = "declined.html";
  };
});
</script>

</body>
</html>
